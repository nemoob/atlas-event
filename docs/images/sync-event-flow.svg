<svg width="800" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="400" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- 标题 -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">同步事件处理流程</text>
  
  <!-- 时间轴 -->
  <line x1="100" y1="350" x2="700" y2="350" stroke="#333" stroke-width="2"/>
  <polygon points="695,345 705,350 695,355" fill="#333"/>
  <text x="710" y="350" font-family="Arial" font-size="12" text-anchor="start">时间</text>
  
  <!-- 发布者线程 -->
  <line x1="100" y1="120" x2="700" y2="120" stroke="#4285f4" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="90" y="120" font-family="Arial" font-size="12" text-anchor="end" fill="#4285f4">发布者线程</text>
  
  <!-- 事件总线线程 -->
  <line x1="100" y1="200" x2="700" y2="200" stroke="#ea4335" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="90" y="200" font-family="Arial" font-size="12" text-anchor="end" fill="#ea4335">事件总线</text>
  
  <!-- 订阅者线程 -->
  <line x1="100" y1="280" x2="700" y2="280" stroke="#34a853" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="90" y="280" font-family="Arial" font-size="12" text-anchor="end" fill="#34a853">订阅者线程</text>
  
  <!-- 发布者活动 -->
  <rect x="150" y="100" width="100" height="40" fill="#4285f4" rx="5" ry="5" opacity="0.8"/>
  <text x="200" y="125" font-family="Arial" font-size="12" fill="white" text-anchor="middle">创建事件</text>
  
  <rect x="270" y="100" width="100" height="40" fill="#4285f4" rx="5" ry="5" opacity="0.8"/>
  <text x="320" y="125" font-family="Arial" font-size="12" fill="white" text-anchor="middle">发布事件</text>
  
  <rect x="600" y="100" width="100" height="40" fill="#4285f4" rx="5" ry="5" opacity="0.8"/>
  <text x="650" y="125" font-family="Arial" font-size="12" fill="white" text-anchor="middle">继续执行</text>
  
  <!-- 事件总线活动 -->
  <rect x="270" y="180" width="330" height="40" fill="#ea4335" rx="5" ry="5" opacity="0.8"/>
  <text x="435" y="205" font-family="Arial" font-size="12" fill="white" text-anchor="middle">查找订阅者并同步分发事件</text>
  
  <!-- 订阅者活动 -->
  <rect x="390" y="260" width="100" height="40" fill="#34a853" rx="5" ry="5" opacity="0.8"/>
  <text x="440" y="285" font-family="Arial" font-size="12" fill="white" text-anchor="middle">处理事件</text>
  
  <!-- 连接线 -->
  <line x1="250" y1="120" x2="270" y2="120" stroke="#333" stroke-width="2"/>
  <polygon points="265,115 275,120 265,125" fill="#333"/>
  
  <line x1="320" y1="140" x2="320" y2="180" stroke="#333" stroke-width="2"/>
  <polygon points="315,175 325,175 320,180" fill="#333"/>
  
  <line x1="435" y1="220" x2="435" y2="260" stroke="#333" stroke-width="2"/>
  <polygon points="430,255 440,255 435,260" fill="#333"/>
  
  <line x1="490" y1="280" x2="550" y2="280" stroke="#333" stroke-width="2"/>
  <polygon points="545,275 555,280 545,285" fill="#333"/>
  
  <line x1="550" y1="280" x2="550" y2="200" stroke="#333" stroke-width="2"/>
  <polygon points="545,205 555,205 550,200" fill="#333"/>
  
  <line x1="600" y1="200" x2="600" y2="120" stroke="#333" stroke-width="2"/>
  <polygon points="595,125 605,125 600,120" fill="#333"/>
  
  <!-- 等待标记 -->
  <rect x="370" y="80" width="130" height="30" fill="#fbbc05" rx="15" ry="15" opacity="0.6"/>
  <text x="435" y="100" font-family="Arial" font-size="12" text-anchor="middle">发布者线程被阻塞</text>
  
  <!-- 时间点标记 -->
  <line x1="150" y1="350" x2="150" y2="340" stroke="#333" stroke-width="2"/>
  <text x="150" y="365" font-family="Arial" font-size="10" text-anchor="middle">T1</text>
  
  <line x1="270" y1="350" x2="270" y2="340" stroke="#333" stroke-width="2"/>
  <text x="270" y="365" font-family="Arial" font-size="10" text-anchor="middle">T2</text>
  
  <line x1="390" y1="350" x2="390" y2="340" stroke="#333" stroke-width="2"/>
  <text x="390" y="365" font-family="Arial" font-size="10" text-anchor="middle">T3</text>
  
  <line x1="490" y1="350" x2="490" y2="340" stroke="#333" stroke-width="2"/>
  <text x="490" y="365" font-family="Arial" font-size="10" text-anchor="middle">T4</text>
  
  <line x1="600" y1="350" x2="600" y2="340" stroke="#333" stroke-width="2"/>
  <text x="600" y="365" font-family="Arial" font-size="10" text-anchor="middle">T5</text>
  
  <!-- 底部说明 -->
  <text x="400" y="390" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">同步事件处理中，发布者线程会等待所有订阅者处理完成后才继续执行</text>
</svg>
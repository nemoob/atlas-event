<svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="500" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- 标题 -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">发布/订阅模式工作流程</text>
  
  <!-- 发布者 -->
  <rect x="100" y="200" width="150" height="80" fill="#4285f4" rx="10" ry="10" opacity="0.8"/>
  <text x="175" y="245" font-family="Arial" font-size="16" fill="white" text-anchor="middle">发布者</text>
  <text x="175" y="265" font-family="Arial" font-size="12" fill="white" text-anchor="middle">(Publisher)</text>
  
  <!-- 事件总线 -->
  <rect x="325" y="200" width="150" height="80" fill="#ea4335" rx="10" ry="10" opacity="0.8"/>
  <text x="400" y="245" font-family="Arial" font-size="16" fill="white" text-anchor="middle">事件总线</text>
  <text x="400" y="265" font-family="Arial" font-size="12" fill="white" text-anchor="middle">(Event Bus)</text>
  
  <!-- 订阅者 -->
  <rect x="550" y="100" width="150" height="80" fill="#34a853" rx="10" ry="10" opacity="0.8"/>
  <text x="625" y="145" font-family="Arial" font-size="16" fill="white" text-anchor="middle">订阅者 A</text>
  <text x="625" y="165" font-family="Arial" font-size="12" fill="white" text-anchor="middle">(Subscriber A)</text>
  
  <rect x="550" y="200" width="150" height="80" fill="#34a853" rx="10" ry="10" opacity="0.8"/>
  <text x="625" y="245" font-family="Arial" font-size="16" fill="white" text-anchor="middle">订阅者 B</text>
  <text x="625" y="265" font-family="Arial" font-size="12" fill="white" text-anchor="middle">(Subscriber B)</text>
  
  <rect x="550" y="300" width="150" height="80" fill="#34a853" rx="10" ry="10" opacity="0.8"/>
  <text x="625" y="345" font-family="Arial" font-size="16" fill="white" text-anchor="middle">订阅者 C</text>
  <text x="625" y="365" font-family="Arial" font-size="12" fill="white" text-anchor="middle">(Subscriber C)</text>
  
  <!-- 连接线 -->
  <!-- 订阅者A到事件总线（注册） -->
  <line x1="550" y1="140" x2="475" y2="200" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="480,195 470,205 475,200" fill="#333"/>
  <text x="500" y="160" font-family="Arial" font-size="12" text-anchor="middle">1. 注册</text>
  
  <!-- 订阅者B到事件总线（注册） -->
  <line x1="550" y1="240" x2="475" y2="240" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="480,235 470,245 475,240" fill="#333"/>
  <text x="510" y="230" font-family="Arial" font-size="12" text-anchor="middle">1. 注册</text>
  
  <!-- 订阅者C到事件总线（注册） -->
  <line x1="550" y1="340" x2="475" y2="280" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="480,285 470,275 475,280" fill="#333"/>
  <text x="500" y="320" font-family="Arial" font-size="12" text-anchor="middle">1. 注册</text>
  
  <!-- 发布者到事件总线 -->
  <line x1="250" y1="240" x2="325" y2="240" stroke="#333" stroke-width="2"/>
  <polygon points="320,235 330,245 325,240" fill="#333"/>
  <text x="290" y="230" font-family="Arial" font-size="12" text-anchor="middle">2. 发布事件</text>
  
  <!-- 事件总线到订阅者A -->
  <line x1="475" y1="200" x2="550" y2="140" stroke="#333" stroke-width="2"/>
  <polygon points="545,145 555,135 550,140" fill="#333"/>
  <text x="525" y="180" font-family="Arial" font-size="12" text-anchor="middle">3. 分发事件</text>
  
  <!-- 事件总线到订阅者B -->
  <line x1="475" y1="240" x2="550" y2="240" stroke="#333" stroke-width="2"/>
  <polygon points="545,235 555,245 550,240" fill="#333"/>
  <text x="510" y="260" font-family="Arial" font-size="12" text-anchor="middle">3. 分发事件</text>
  
  <!-- 事件总线到订阅者C -->
  <line x1="475" y1="280" x2="550" y2="340" stroke="#333" stroke-width="2"/>
  <polygon points="545,335 555,345 550,340" fill="#333"/>
  <text x="525" y="300" font-family="Arial" font-size="12" text-anchor="middle">3. 分发事件</text>
  
  <!-- 事件对象 -->
  <circle cx="290" y="240" r="15" fill="#fbbc05"/>
  <text x="290" y="245" font-family="Arial" font-size="12" text-anchor="middle" fill="white">E</text>
  
  <circle cx="510" y="180" r="15" fill="#fbbc05"/>
  <text x="510" y="185" font-family="Arial" font-size="12" text-anchor="middle" fill="white">E</text>
  
  <circle cx="510" y="240" r="15" fill="#fbbc05"/>
  <text x="510" y="245" font-family="Arial" font-size="12" text-anchor="middle" fill="white">E</text>
  
  <circle cx="510" y="300" r="15" fill="#fbbc05"/>
  <text x="510" y="305" font-family="Arial" font-size="12" text-anchor="middle" fill="white">E</text>
  
  <!-- 处理步骤 -->
  <rect x="550" y="400" width="150" height="30" fill="#fbbc05" rx="5" ry="5" opacity="0.8"/>
  <text x="625" y="420" font-family="Arial" font-size="14" fill="white" text-anchor="middle">4. 处理事件</text>
  
  <!-- 处理箭头 -->
  <line x1="625" y1="380" x2="625" y2="400" stroke="#333" stroke-width="2"/>
  <polygon points="620,395 630,395 625,400" fill="#333"/>
  
  <!-- 底部说明 -->
  <text x="400" y="470" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">发布/订阅模式实现了发布者和订阅者之间的松耦合，一个事件可以被多个订阅者处理</text>
</svg>